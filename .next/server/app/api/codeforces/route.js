"use strict";(()=>{var e={};e.id=763,e.ids=[763],e.modules={30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},42937:(e,r,t)=>{t.r(r),t.d(r,{headerHooks:()=>p,originalPathname:()=>g,patchFetch:()=>h,requestAsyncStorage:()=>m,routeModule:()=>d,serverHooks:()=>l,staticGenerationAsyncStorage:()=>u,staticGenerationBailout:()=>f});var o={};t.r(o),t.d(o,{GET:()=>c});var s=t(10884),a=t(16132),i=t(21040),n=t(95798);async function c(e){let{searchParams:r}=new URL(e.url),t=r.get("handle");if(!t)return n.Z.json({error:"Handle parameter is required"},{status:400});try{let e=await fetch(`https://codeforces.com/api/user.info?handles=${encodeURIComponent(t)}`,{headers:{"User-Agent":"RankTime-App/1.0"}});if(!e.ok)throw Error("Failed to fetch user data from Codeforces");let r=await e.json();if("OK"!==r.status||!r.result||0===r.result.length)throw Error("User not found on Codeforces");let o=r.result[0],s=await fetch(`https://codeforces.com/api/user.status?handle=${encodeURIComponent(t)}&from=1&count=100`,{headers:{"User-Agent":"RankTime-App/1.0"}}),a={solvedProblems:0,totalSubmissions:0,acceptedSubmissions:0,wrongAnswer:0,timeLimitExceeded:0,memoryLimitExceeded:0,runtimeError:0,compilationError:0,recentSubmissions:[]};if(s.ok){let e=await s.json();if("OK"===e.status&&e.result){let r=e.result;a.totalSubmissions=r.length;let t=new Set;r.forEach(e=>{let r=`${e.problem.contestId||"gym"}-${e.problem.index}`;switch(e.verdict){case"OK":a.acceptedSubmissions++,t.add(r);break;case"WRONG_ANSWER":a.wrongAnswer++;break;case"TIME_LIMIT_EXCEEDED":a.timeLimitExceeded++;break;case"MEMORY_LIMIT_EXCEEDED":a.memoryLimitExceeded++;break;case"RUNTIME_ERROR":a.runtimeError++;break;case"COMPILATION_ERROR":a.compilationError++}}),a.solvedProblems=t.size,a.recentSubmissions=r.slice(0,20).map(e=>({id:e.id,contestId:e.contestId,problem:{contestId:e.problem.contestId,index:e.problem.index,name:e.problem.name,rating:e.problem.rating,tags:e.problem.tags},verdict:e.verdict,programmingLanguage:e.programmingLanguage,timeConsumedMillis:e.timeConsumedMillis,memoryConsumedBytes:e.memoryConsumedBytes,creationTimeSeconds:e.creationTimeSeconds}))}}return n.Z.json({user:o,stats:a})}catch(e){return console.error("Codeforces API error:",e),n.Z.json({error:e.message||"Failed to fetch data from Codeforces"},{status:500})}}let d=new s.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/codeforces/route",pathname:"/api/codeforces",filename:"route",bundlePath:"app/api/codeforces/route"},resolvedPagePath:"C:\\Users\\rafi2\\Rank Time (Vibe)\\ranktime\\src\\app\\api\\codeforces\\route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:m,staticGenerationAsyncStorage:u,serverHooks:l,headerHooks:p,staticGenerationBailout:f}=d,g="/api/codeforces/route";function h(){return(0,i.patchFetch)({serverHooks:l,staticGenerationAsyncStorage:u})}}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),o=r.X(0,[271,107],()=>t(42937));module.exports=o})();