{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rafi2/Rank%20Time%20%28Vibe%29/ranktime/src/lib/db.ts"],"sourcesContent":["// src/lib/db.ts\r\nimport { MongoClient } from 'mongodb';\r\nimport mongoose from 'mongoose';\r\n\r\nif (!process.env.MONGODB_URI) {\r\n  throw new Error('Invalid/Missing environment variable: \"MONGODB_URI\"');\r\n}\r\n\r\nconst uri = process.env.MONGODB_URI;\r\nconst options = {\r\n  maxPoolSize: 10,\r\n  serverSelectionTimeoutMS: 5000,\r\n  socketTimeoutMS: 45000,\r\n  maxIdleTimeMS: 30000,\r\n};\r\n\r\ndeclare global {\r\n  // eslint-disable-next-line no-var\r\n  var _mongoClientPromise: Promise<MongoClient> | undefined;\r\n  // eslint-disable-next-line no-var\r\n  var _mongooseConn: Promise<typeof mongoose> | undefined;\r\n}\r\n\r\nlet client: MongoClient;\r\nlet clientPromise: Promise<MongoClient>;\r\n\r\nif (process.env.NODE_ENV === 'development') {\r\n  // In development mode, use a global variable so that the value\r\n  // is preserved across module reloads caused by HMR (Hot Module Replacement).\r\n  if (!global._mongoClientPromise) {\r\n    client = new MongoClient(uri, options);\r\n    global._mongoClientPromise = client.connect();\r\n  }\r\n  clientPromise = global._mongoClientPromise;\r\n} else {\r\n  // In production mode, it's best to not use a global variable.\r\n  client = new MongoClient(uri, options);\r\n  clientPromise = client.connect();\r\n}\r\n\r\nexport async function connectToDatabase() {\r\n  try {\r\n    const client = await clientPromise;\r\n    return client;\r\n  } catch (error) {\r\n    console.error('Database connection error:', error);\r\n    throw new Error(`Failed to connect to database: ${error instanceof Error ? error.message : 'Unknown error'}`);\r\n  }\r\n}\r\n\r\n// Mongoose connection for models â€” cached on global to avoid multiple connections in serverless\r\nexport default async function connectDB() {\r\n  if (global._mongooseConn) {\r\n    return global._mongooseConn;\r\n  }\r\n\r\n  global._mongooseConn = (async () => {\r\n    try {\r\n      return await mongoose.connect(uri);\r\n    } catch (error) {\r\n      console.error('Mongoose connection error:', error);\r\n      global._mongooseConn = undefined;\r\n      throw error;\r\n    }\r\n  })();\r\n\r\n  return global._mongooseConn;\r\n}"],"names":[],"mappings":";;;;;;AAAA,gBAAgB;AAChB;AACA;;;AAEA;;AAIA,MAAM;AACN,MAAM,UAAU;IACd,aAAa;IACb,0BAA0B;IAC1B,iBAAiB;IACjB,eAAe;AACjB;AASA,IAAI;AACJ,IAAI;AAEJ,wCAA4C;IAC1C,+DAA+D;IAC/D,6EAA6E;IAC7E,IAAI,CAAC,OAAO,mBAAmB,EAAE;QAC/B,SAAS,IAAI,0MAAW,CAAC,KAAK;QAC9B,OAAO,mBAAmB,GAAG,OAAO,OAAO;IAC7C;IACA,gBAAgB,OAAO,mBAAmB;AAC5C;;AAMO,eAAe;IACpB,IAAI;QACF,MAAM,SAAS,MAAM;QACrB,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,8BAA8B;QAC5C,MAAM,IAAI,MAAM,CAAC,+BAA+B,EAAE,iBAAiB,QAAQ,MAAM,OAAO,GAAG,iBAAiB;IAC9G;AACF;AAGe,eAAe;IAC5B,IAAI,OAAO,aAAa,EAAE;QACxB,OAAO,OAAO,aAAa;IAC7B;IAEA,OAAO,aAAa,GAAG,CAAC;QACtB,IAAI;YACF,OAAO,MAAM,yMAAQ,CAAC,OAAO,CAAC;QAChC,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,8BAA8B;YAC5C,OAAO,aAAa,GAAG;YACvB,MAAM;QACR;IACF,CAAC;IAED,OAAO,OAAO,aAAa;AAC7B"}},
    {"offset": {"line": 112, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rafi2/Rank%20Time%20%28Vibe%29/ranktime/src/lib/auth.ts"],"sourcesContent":["// src/lib/auth.ts\r\nimport { hash, compare } from 'bcryptjs';\r\nimport { NextAuthOptions } from 'next-auth';\r\nimport CredentialsProvider from 'next-auth/providers/credentials';\r\nimport { connectToDatabase } from '@/lib/db';\r\n\r\nexport const authOptions: NextAuthOptions = {\r\n  secret: process.env.NEXTAUTH_SECRET,\r\n  providers: [\r\n    CredentialsProvider({\r\n      name: 'Credentials',\r\n      credentials: {\r\n        email: { label: \"Email\", type: \"email\" },\r\n        password: { label: \"Password\", type: \"password\" }\r\n      },\r\n      async authorize(credentials) {\r\n        if (!credentials) return null;\r\n\r\n        let client;\r\n        try {\r\n          client = await connectToDatabase();\r\n          const db = client.db();\r\n\r\n          const user = await db.collection('users').findOne({\r\n            email: credentials.email,\r\n          });\r\n\r\n          if (!user) {\r\n            throw new Error('No user found!');\r\n          }\r\n\r\n          if (user.verified === false) {\r\n            throw new Error('Email not verified');\r\n          }\r\n\r\n          const isValid = await verifyPassword(\r\n            credentials.password,\r\n            user.password\r\n          );\r\n\r\n          if (!isValid) {\r\n            throw new Error('Invalid password!');\r\n          }\r\n\r\n          return {\r\n            id: user._id.toString(),\r\n            email: user.email,\r\n            name: user.name,\r\n          };\r\n        } catch (error) {\r\n          console.error('Auth error:', error);\r\n          throw error;\r\n        }\r\n        // Don't close client in serverless - let connection pool handle it\r\n      },\r\n    }),\r\n  ],\r\n  session: {\r\n    strategy: 'jwt',\r\n    maxAge: 30 * 24 * 60 * 60, // 30 days\r\n    updateAge: 24 * 60 * 60, // 24 hours\r\n  },\r\n  jwt: {\r\n    maxAge: 30 * 24 * 60 * 60, // 30 days\r\n  },\r\n  cookies: {\r\n    sessionToken: {\r\n      name: `next-auth.session-token`,\r\n      options: {\r\n        httpOnly: true,\r\n        sameSite: 'lax',\r\n        path: '/',\r\n        secure: false, // Set to false for localhost development\r\n        maxAge: 30 * 24 * 60 * 60, // 30 days\r\n      },\r\n    },\r\n    callbackUrl: {\r\n      name: `next-auth.callback-url`,\r\n      options: {\r\n        sameSite: 'lax',\r\n        path: '/',\r\n        secure: false,\r\n        maxAge: 30 * 24 * 60 * 60,\r\n      },\r\n    },\r\n    csrfToken: {\r\n      name: 'next-auth.csrf-token',\r\n      options: {\r\n        httpOnly: true,\r\n        sameSite: 'lax',\r\n        path: '/',\r\n        secure: false,\r\n        maxAge: 30 * 24 * 60 * 60,\r\n      },\r\n    },\r\n  },\r\n  callbacks: {\r\n    async jwt({ token, user, account }) {\r\n      // Persist the OAuth access_token and or the user id to the token right after signin\r\n      if (account) {\r\n        token.accessToken = account.access_token;\r\n      }\r\n      if (user) {\r\n        token.id = user.id;\r\n      }\r\n      return token;\r\n    },\r\n    async session({ session, token }) {\r\n      // Send properties to the client, like an access_token and user id from a provider\r\n      if (token) {\r\n        session.user.id = token.id as string;\r\n      }\r\n      return session;\r\n    },\r\n  },\r\n  pages: {\r\n    signIn: '/login',\r\n  },\r\n};\r\n\r\nexport async function hashPassword(password: string): Promise<string> {\r\n  return await hash(password, 12);\r\n}\r\n\r\nexport async function verifyPassword(\r\n  password: string,\r\n  hashedPassword: string\r\n): Promise<boolean> {\r\n  return await compare(password, hashedPassword);\r\n}"],"names":[],"mappings":";;;;;;;;AAAA,kBAAkB;AAClB;AAEA;AACA;;;;AAEO,MAAM,cAA+B;IAC1C,MAAM;IACN,WAAW;QACT,IAAA,2MAAmB,EAAC;YAClB,MAAM;YACN,aAAa;gBACX,OAAO;oBAAE,OAAO;oBAAS,MAAM;gBAAQ;gBACvC,UAAU;oBAAE,OAAO;oBAAY,MAAM;gBAAW;YAClD;YACA,MAAM,WAAU,WAAW;gBACzB,IAAI,CAAC,aAAa,OAAO;gBAEzB,IAAI;gBACJ,IAAI;oBACF,SAAS,MAAM,IAAA,6KAAiB;oBAChC,MAAM,KAAK,OAAO,EAAE;oBAEpB,MAAM,OAAO,MAAM,GAAG,UAAU,CAAC,SAAS,OAAO,CAAC;wBAChD,OAAO,YAAY,KAAK;oBAC1B;oBAEA,IAAI,CAAC,MAAM;wBACT,MAAM,IAAI,MAAM;oBAClB;oBAEA,IAAI,KAAK,QAAQ,KAAK,OAAO;wBAC3B,MAAM,IAAI,MAAM;oBAClB;oBAEA,MAAM,UAAU,MAAM,eACpB,YAAY,QAAQ,EACpB,KAAK,QAAQ;oBAGf,IAAI,CAAC,SAAS;wBACZ,MAAM,IAAI,MAAM;oBAClB;oBAEA,OAAO;wBACL,IAAI,KAAK,GAAG,CAAC,QAAQ;wBACrB,OAAO,KAAK,KAAK;wBACjB,MAAM,KAAK,IAAI;oBACjB;gBACF,EAAE,OAAO,OAAO;oBACd,QAAQ,KAAK,CAAC,eAAe;oBAC7B,MAAM;gBACR;YACA,mEAAmE;YACrE;QACF;KACD;IACD,SAAS;QACP,UAAU;QACV,QAAQ,KAAK,KAAK,KAAK;QACvB,WAAW,KAAK,KAAK;IACvB;IACA,KAAK;QACH,QAAQ,KAAK,KAAK,KAAK;IACzB;IACA,SAAS;QACP,cAAc;YACZ,MAAM,CAAC,uBAAuB,CAAC;YAC/B,SAAS;gBACP,UAAU;gBACV,UAAU;gBACV,MAAM;gBACN,QAAQ;gBACR,QAAQ,KAAK,KAAK,KAAK;YACzB;QACF;QACA,aAAa;YACX,MAAM,CAAC,sBAAsB,CAAC;YAC9B,SAAS;gBACP,UAAU;gBACV,MAAM;gBACN,QAAQ;gBACR,QAAQ,KAAK,KAAK,KAAK;YACzB;QACF;QACA,WAAW;YACT,MAAM;YACN,SAAS;gBACP,UAAU;gBACV,UAAU;gBACV,MAAM;gBACN,QAAQ;gBACR,QAAQ,KAAK,KAAK,KAAK;YACzB;QACF;IACF;IACA,WAAW;QACT,MAAM,KAAI,EAAE,KAAK,EAAE,IAAI,EAAE,OAAO,EAAE;YAChC,oFAAoF;YACpF,IAAI,SAAS;gBACX,MAAM,WAAW,GAAG,QAAQ,YAAY;YAC1C;YACA,IAAI,MAAM;gBACR,MAAM,EAAE,GAAG,KAAK,EAAE;YACpB;YACA,OAAO;QACT;QACA,MAAM,SAAQ,EAAE,OAAO,EAAE,KAAK,EAAE;YAC9B,kFAAkF;YAClF,IAAI,OAAO;gBACT,QAAQ,IAAI,CAAC,EAAE,GAAG,MAAM,EAAE;YAC5B;YACA,OAAO;QACT;IACF;IACA,OAAO;QACL,QAAQ;IACV;AACF;AAEO,eAAe,aAAa,QAAgB;IACjD,OAAO,MAAM,IAAA,iLAAI,EAAC,UAAU;AAC9B;AAEO,eAAe,eACpB,QAAgB,EAChB,cAAsB;IAEtB,OAAO,MAAM,IAAA,oLAAO,EAAC,UAAU;AACjC"}},
    {"offset": {"line": 330, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rafi2/Rank%20Time%20%28Vibe%29/ranktime/src/lib/email.ts"],"sourcesContent":["import nodemailer from 'nodemailer';\r\n\r\nconst host = process.env.SMTP_HOST;\r\nconst port = process.env.SMTP_PORT ? Number(process.env.SMTP_PORT) : undefined;\r\nconst user = process.env.SMTP_USER;\r\nconst pass = process.env.SMTP_PASS;\r\nconst from = process.env.FROM_EMAIL || process.env.SMTP_USER;\r\n\r\nif (!host || !port || !user || !pass) {\r\n  // We don't throw here because dev may not use email sending locally.\r\n  console.warn('SMTP not fully configured. Email sending will fail if attempted.');\r\n}\r\n\r\nexport async function sendEmail(to: string, subject: string, text: string, html?: string) {\r\n  if (!host || !port || !user || !pass) {\r\n    throw new Error('SMTP not configured');\r\n  }\r\n\r\n  const transporter = nodemailer.createTransport({\r\n    host,\r\n    port,\r\n    secure: port === 465, // true for 465, false for other ports\r\n    auth: {\r\n      user,\r\n      pass,\r\n    },\r\n  });\r\n\r\n  const info = await transporter.sendMail({\r\n    from,\r\n    to,\r\n    subject,\r\n    text,\r\n    html,\r\n  });\r\n\r\n  return info;\r\n}\r\n\r\nexport function generateOtp(length = 6) {\r\n  const digits = '0123456789';\r\n  let otp = '';\r\n  for (let i = 0; i < length; i++) otp += digits[Math.floor(Math.random() * digits.length)];\r\n  return otp;\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAA;;AAEA,MAAM,OAAO,QAAQ,GAAG,CAAC,SAAS;AAClC,MAAM,OAAO,QAAQ,GAAG,CAAC,SAAS,GAAG,OAAO,QAAQ,GAAG,CAAC,SAAS,IAAI;AACrE,MAAM,OAAO,QAAQ,GAAG,CAAC,SAAS;AAClC,MAAM,OAAO,QAAQ,GAAG,CAAC,SAAS;AAClC,MAAM,OAAO,QAAQ,GAAG,CAAC,UAAU,IAAI,QAAQ,GAAG,CAAC,SAAS;AAE5D,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,QAAQ,CAAC,MAAM;IACpC,qEAAqE;IACrE,QAAQ,IAAI,CAAC;AACf;AAEO,eAAe,UAAU,EAAU,EAAE,OAAe,EAAE,IAAY,EAAE,IAAa;IACtF,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,QAAQ,CAAC,MAAM;QACpC,MAAM,IAAI,MAAM;IAClB;IAEA,MAAM,cAAc,kMAAU,CAAC,eAAe,CAAC;QAC7C;QACA;QACA,QAAQ,SAAS;QACjB,MAAM;YACJ;YACA;QACF;IACF;IAEA,MAAM,OAAO,MAAM,YAAY,QAAQ,CAAC;QACtC;QACA;QACA;QACA;QACA;IACF;IAEA,OAAO;AACT;AAEO,SAAS,YAAY,SAAS,CAAC;IACpC,MAAM,SAAS;IACf,IAAI,MAAM;IACV,IAAK,IAAI,IAAI,GAAG,IAAI,QAAQ,IAAK,OAAO,MAAM,CAAC,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK,OAAO,MAAM,EAAE;IACzF,OAAO;AACT"}},
    {"offset": {"line": 379, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rafi2/Rank%20Time%20%28Vibe%29/ranktime/src/lib/utils.ts"],"sourcesContent":["import { type ClassValue, clsx } from \"clsx\"\r\nimport { twMerge } from \"tailwind-merge\"\r\n \r\nexport function cn(...inputs: ClassValue[]) {\r\n  return twMerge(clsx(inputs))\r\n}\r\n\r\n// Generate a random unique usertag\r\nexport function generateUserTag(): string {\r\n  const adjectives = [\r\n    'Swift', 'Bold', 'Clever', 'Brave', 'Wise', 'Quick', 'Sharp', 'Smart',\r\n    'Fast', 'Agile', 'Keen', 'Bright', 'Crafty', 'Daring', 'Eager', 'Fierce',\r\n    'Grand', 'Hasty', 'Ideal', 'Jolly', 'Kind', 'Lively', 'Mighty', 'Noble',\r\n    'Proud', 'Quick', 'Rapid', 'Smart', 'Tough', 'Ultra', 'Vivid', 'Witty',\r\n    'Xenon', 'Young', 'Zesty', 'Alpha', 'Beta', 'Gamma', 'Delta', 'Echo'\r\n  ];\r\n\r\n  const nouns = [\r\n    'Coder', 'Hacker', 'Dev', 'Ninja', 'Wizard', 'Guru', 'Master', 'Pro',\r\n    'Expert', 'Ace', 'Champ', 'Hero', 'Star', 'King', 'Queen', 'Lord',\r\n    'Sage', 'Mind', 'Brain', 'Soul', 'Spirit', 'Force', 'Power', 'Storm',\r\n    'Thunder', 'Lightning', 'Fire', 'Ice', 'Wind', 'Earth', 'Sky', 'Sea'\r\n  ];\r\n\r\n  const randomAdjective = adjectives[Math.floor(Math.random() * adjectives.length)];\r\n  const randomNoun = nouns[Math.floor(Math.random() * nouns.length)];\r\n  const randomNumber = Math.floor(Math.random() * 9999) + 1;\r\n\r\n  return `${randomAdjective}${randomNoun}${randomNumber}`;\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,8MAAO,EAAC,IAAA,qLAAI,EAAC;AACtB;AAGO,SAAS;IACd,MAAM,aAAa;QACjB;QAAS;QAAQ;QAAU;QAAS;QAAQ;QAAS;QAAS;QAC9D;QAAQ;QAAS;QAAQ;QAAU;QAAU;QAAU;QAAS;QAChE;QAAS;QAAS;QAAS;QAAS;QAAQ;QAAU;QAAU;QAChE;QAAS;QAAS;QAAS;QAAS;QAAS;QAAS;QAAS;QAC/D;QAAS;QAAS;QAAS;QAAS;QAAQ;QAAS;QAAS;KAC/D;IAED,MAAM,QAAQ;QACZ;QAAS;QAAU;QAAO;QAAS;QAAU;QAAQ;QAAU;QAC/D;QAAU;QAAO;QAAS;QAAQ;QAAQ;QAAQ;QAAS;QAC3D;QAAQ;QAAQ;QAAS;QAAQ;QAAU;QAAS;QAAS;QAC7D;QAAW;QAAa;QAAQ;QAAO;QAAQ;QAAS;QAAO;KAChE;IAED,MAAM,kBAAkB,UAAU,CAAC,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK,WAAW,MAAM,EAAE;IACjF,MAAM,aAAa,KAAK,CAAC,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK,MAAM,MAAM,EAAE;IAClE,MAAM,eAAe,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK,QAAQ;IAExD,OAAO,GAAG,kBAAkB,aAAa,cAAc;AACzD"}},
    {"offset": {"line": 478, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rafi2/Rank%20Time%20%28Vibe%29/ranktime/src/app/api/auth/signup/route.ts"],"sourcesContent":["// src/app/api/auth/signup/route.ts\r\nimport { NextResponse } from 'next/server';\r\nimport { hashPassword } from '@/lib/auth';\r\nimport { connectToDatabase } from '@/lib/db';\r\nimport { generateOtp, sendEmail } from '@/lib/email';\r\nimport { generateUserTag } from '@/lib/utils';\r\n\r\nexport const dynamic = 'force-dynamic';\r\nexport const runtime = 'nodejs';\r\n\r\nexport async function POST(request: Request) {\r\n  try {\r\n    const body = await request.json();\r\n    const { name, email, password, resend } = body;\r\n\r\n    // Handle resend OTP case\r\n    if (resend && email) {\r\n      const client = await connectToDatabase();\r\n      const db = client.db();\r\n\r\n      const otpRecord = await db.collection('emailOtps').findOne({\r\n        email,\r\n        registrationData: { $exists: true }\r\n      });\r\n\r\n      if (!otpRecord) {\r\n        return NextResponse.json(\r\n          { message: 'No pending registration found for this email' },\r\n          { status: 404 }\r\n        );\r\n      }\r\n\r\n      // Remove existing OTPs for this email\r\n      await db.collection('emailOtps').deleteMany({ email });\r\n\r\n      // Generate new OTP with the same registration data\r\n      const otp = generateOtp(4);\r\n      const expiresAt = new Date(Date.now() + 1000 * 60 * 10); // 10 minutes\r\n\r\n      await db.collection('emailOtps').insertOne({\r\n        email,\r\n        otp,\r\n        expiresAt,\r\n        createdAt: new Date(),\r\n        registrationData: otpRecord.registrationData,\r\n      });\r\n\r\n      // Send OTP email\r\n      try {\r\n        const subject = 'Your RankTime verification code (resent)';\r\n        const text = `Your new verification code is: ${otp}. It expires in 10 minutes.`;\r\n        const html = `<p>Your new verification code is: <strong>${otp}</strong></p><p>It expires in 10 minutes.</p>`;\r\n        await sendEmail(email, subject, text, html);\r\n      } catch (err) {\r\n        console.error('Failed to send OTP email:', err);\r\n      }\r\n\r\n      return NextResponse.json(\r\n        { message: 'OTP resent successfully' },\r\n        { status: 200 }\r\n      );\r\n    }\r\n\r\n    // Handle new user registration\r\n    if (!name || !email || !email.includes('@') || !password || password.trim().length < 7) {\r\n      return NextResponse.json(\r\n        { message: 'Invalid input - name, valid email, and password (min 7 characters) are required.' },\r\n        { status: 422 }\r\n      );\r\n    }\r\n\r\n    const client = await connectToDatabase();\r\n    const db = client.db();\r\n\r\n    const existingUser = await db.collection('users').findOne({ email: email });\r\n\r\n    if (existingUser) {\r\n      return NextResponse.json(\r\n        { message: 'User exists already!' },\r\n        { status: 422 }\r\n      );\r\n    }\r\n\r\n    const hashedPassword = await hashPassword(password);\r\n\r\n    // Generate unique usertag\r\n    let usertag;\r\n    let attempts = 0;\r\n    do {\r\n      usertag = generateUserTag();\r\n      attempts++;\r\n      if (attempts > 10) {\r\n        return NextResponse.json(\r\n          { message: 'Failed to generate unique usertag. Please try again.' },\r\n          { status: 500 }\r\n        );\r\n      }\r\n    } while (await db.collection('users').findOne({ usertag }));\r\n\r\n    // Generate OTP and store registration data in OTP record (don't create user yet)\r\n    const otp = generateOtp(4);\r\n    const expiresAt = new Date(Date.now() + 1000 * 60 * 10); // 10 minutes\r\n\r\n    await db.collection('emailOtps').insertOne({\r\n      email,\r\n      otp,\r\n      expiresAt,\r\n      createdAt: new Date(),\r\n      registrationData: {\r\n        name,\r\n        email,\r\n        password: hashedPassword,\r\n        usertag,\r\n      },\r\n    });\r\n\r\n    // send OTP email (may throw if SMTP not configured)\r\n    try {\r\n      const subject = 'Your RankTime verification code';\r\n      const text = `Your verification code is: ${otp}. It expires in 10 minutes.`;\r\n      const html = `<p>Your verification code is: <strong>${otp}</strong></p><p>It expires in 10 minutes.</p>`;\r\n      await sendEmail(email, subject, text, html);\r\n    } catch (err) {\r\n      console.error('Failed to send OTP email:', err);\r\n    }\r\n\r\n    return NextResponse.json(\r\n      { message: 'OTP sent to email for verification' },\r\n      { status: 200 }\r\n    );\r\n  } catch (error) {\r\n    console.error('Signup error:', error);\r\n    return NextResponse.json(\r\n      { message: 'Something went wrong!' },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}"],"names":[],"mappings":"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"}}]
}