(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{20067:function(){},72061:function(){},30986:function(e,s,a){Promise.resolve().then(a.bind(a,51865))},51865:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return eS}});var t=a(57437),r=a(82749),l=a(24033),n=a(2265),i=a(9814),c=a(60345);let d=i.fC,o=n.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(i.aV,{ref:s,className:(0,c.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...r})});o.displayName=i.aV.displayName;let x=n.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(i.xz,{ref:s,className:(0,c.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a),...r})});x.displayName=i.xz.displayName;let m=n.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(i.VY,{ref:s,className:(0,c.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...r})});m.displayName=i.VY.displayName;var h=a(3089),u=a(86582),g=a(6429);let j=n.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,c.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...r})});j.displayName="Card";let f=n.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,c.cn)("flex flex-col space-y-1.5 p-6",a),...r})});f.displayName="CardHeader";let p=n.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("h3",{ref:s,className:(0,c.cn)("text-2xl font-semibold leading-none tracking-tight",a),...r})});p.displayName="CardTitle";let v=n.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("p",{ref:s,className:(0,c.cn)("text-sm text-muted-foreground",a),...r})});v.displayName="CardDescription";let b=n.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,c.cn)("p-6 pt-0",a),...r})});b.displayName="CardContent";let N=n.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,c.cn)("flex items-center p-6 pt-0",a),...r})});N.displayName="CardFooter";var y=a(96061);let w=(0,y.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function k(e){let{className:s,variant:a,...r}=e;return(0,t.jsx)("div",{className:(0,c.cn)(w({variant:a}),s),...r})}let S=n.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("textarea",{className:(0,c.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:s,...r})});S.displayName="Textarea";var C=a(94900),R=a(33101),T=a(36357),L=a(9883),E=a(45367);function Z(){let[e,s]=(0,n.useState)(0),[a,r]=(0,n.useState)(!1),[l,i]=(0,n.useState)([]),[c,d]=(0,n.useState)("Thinking Time"),[o,x]=(0,n.useState)(""),[m,N]=(0,n.useState)(""),[y,w]=(0,n.useState)(""),[Z,z]=(0,n.useState)(""),P=(0,n.useRef)(null),A=(0,n.useRef)(0);(0,n.useEffect)(()=>(a?P.current=setInterval(()=>{s(Date.now()-A.current)},10):P.current&&clearInterval(P.current),()=>{P.current&&clearInterval(P.current)}),[a]);let M=e=>{let s=Math.floor(e/1e3);return"".concat(Math.floor(s/60).toString().padStart(2,"0"),":").concat((s%60).toString().padStart(2,"0"),".").concat(Math.floor(e%1e3/10).toString().padStart(2,"0"))},_=()=>{r(!1),s(0),i([]),A.current=0},I=(e,s)=>{i(a=>a.map(a=>a.id===e?{...a,comment:s}:a))},D=e=>{i(s=>s.filter(s=>s.id!==e))},U=async()=>{if(!o||!m){alert("Please enter problem title and rating");return}try{let s=await fetch("/api/sessions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({problemTitle:o,problemRating:parseInt(m),problemUrl:y,totalTime:Math.floor(e/1e3),laps:l.map(e=>({name:e.name,time:Math.floor(e.time/1e3),comment:e.comment})),comments:Z})});s.ok?(alert("Session saved successfully!"),_(),x(""),N(""),w(""),z("")):alert("Failed to save session")}catch(e){console.error("Error saving session:",e),alert("Error saving session")}};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(j,{children:[(0,t.jsxs)(f,{children:[(0,t.jsx)(p,{children:"Problem Information"}),(0,t.jsx)(v,{children:"Enter details about the problem you're working on"})]}),(0,t.jsx)(b,{className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(g._,{htmlFor:"problem-title",children:"Problem Title"}),(0,t.jsx)(u.I,{id:"problem-title",value:o,onChange:e=>x(e.target.value),placeholder:"e.g., Two Sum"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(g._,{htmlFor:"problem-rating",children:"Problem Rating"}),(0,t.jsx)(u.I,{id:"problem-rating",type:"number",value:m,onChange:e=>N(e.target.value),placeholder:"e.g., 800"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(g._,{htmlFor:"problem-url",children:"Problem URL (Optional)"}),(0,t.jsx)(u.I,{id:"problem-url",value:y,onChange:e=>w(e.target.value),placeholder:"https://..."})]})]})})]}),(0,t.jsxs)(j,{children:[(0,t.jsxs)(f,{children:[(0,t.jsx)(p,{children:"Stopwatch"}),(0,t.jsx)(v,{children:"Track your problem-solving time with customizable laps"})]}),(0,t.jsxs)(b,{className:"space-y-6",children:[(0,t.jsx)("div",{className:"text-center",children:(0,t.jsx)("div",{className:"text-6xl font-mono font-bold text-blue-600 dark:text-blue-400",children:M(e)})}),(0,t.jsxs)("div",{className:"flex justify-center space-x-4",children:[a?(0,t.jsxs)(h.z,{onClick:()=>{r(!1)},variant:"secondary",size:"lg",children:[(0,t.jsx)(R.Z,{className:"w-4 h-4 mr-2"}),"Pause"]}):(0,t.jsxs)(h.z,{onClick:()=>{a||(A.current=Date.now()-e,r(!0))},size:"lg",children:[(0,t.jsx)(C.Z,{className:"w-4 h-4 mr-2"}),"Start"]}),(0,t.jsxs)(h.z,{onClick:_,variant:"outline",size:"lg",children:[(0,t.jsx)(T.Z,{className:"w-4 h-4 mr-2"}),"Reset"]})]}),(0,t.jsxs)("div",{className:"flex space-x-4",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)(g._,{htmlFor:"lap-name",children:"Lap Name"}),(0,t.jsx)(u.I,{id:"lap-name",value:c,onChange:e=>d(e.target.value),placeholder:"e.g., Thinking Time, Debugging Time"})]}),(0,t.jsx)("div",{className:"flex items-end",children:(0,t.jsxs)(h.z,{onClick:()=>{if(a&&e>0){let s={id:Date.now().toString(),name:c,time:e,comment:""};i(e=>[...e,s])}},disabled:!a,children:[(0,t.jsx)(L.Z,{className:"w-4 h-4 mr-2"}),"Add Lap"]})})]}),l.length>0&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h4",{className:"font-semibold",children:"Laps"}),(0,t.jsx)("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:l.map((e,s)=>(0,t.jsxs)(j,{className:"p-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsxs)(k,{variant:"secondary",children:["#",s+1]}),(0,t.jsx)("span",{className:"font-medium",children:e.name}),(0,t.jsx)("span",{className:"font-mono text-sm",children:M(e.time)})]}),(0,t.jsx)(h.z,{onClick:()=>D(e.id),variant:"ghost",size:"sm",children:(0,t.jsx)(E.Z,{className:"w-4 h-4"})})]}),(0,t.jsx)("div",{className:"mt-2",children:(0,t.jsx)(u.I,{placeholder:"Add comment for this lap...",value:e.comment||"",onChange:s=>I(e.id,s.target.value),className:"text-sm"})})]},e.id))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(g._,{htmlFor:"comments",children:"Session Comments"}),(0,t.jsx)(S,{id:"comments",value:Z,onChange:e=>z(e.target.value),placeholder:"Add any comments about this problem-solving session...",rows:3})]}),(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)(h.z,{onClick:U,disabled:!o||!m,children:"Save Session"})})]})]})]})}var z=a(15432);function P(){let[e,s]=(0,n.useState)(25),[a,r]=(0,n.useState)(0),[l,i]=(0,n.useState)(!1),[c,d]=(0,n.useState)(!1),o=(0,n.useRef)(null);return(0,n.useEffect)(()=>(l&&(e>0||a>0)?o.current=setInterval(()=>{r(a=>0===a?0===e?(i(!1),d(!c),c?0:300):(s(e=>e-1),59):a-1)},1e3):0===e&&0===a&&i(!1),()=>{o.current&&clearInterval(o.current)}),[l,e,a,c]),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(j,{children:[(0,t.jsxs)(f,{children:[(0,t.jsx)(p,{children:"Pomodoro Timer"}),(0,t.jsx)(v,{children:"Use the Pomodoro Technique to maintain focus and productivity"})]}),(0,t.jsxs)(b,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-6xl font-mono font-bold ".concat(c?"text-green-600 dark:text-green-400":"text-blue-600 dark:text-blue-400"),children:"".concat(e.toString().padStart(2,"0"),":").concat(a.toString().padStart(2,"0"))}),(0,t.jsx)("div",{className:"mt-2",children:(0,t.jsx)(k,{variant:c?"secondary":"default",children:c?"Break Time":"Focus Time"})})]}),(0,t.jsxs)("div",{className:"flex justify-center space-x-4",children:[l?(0,t.jsxs)(h.z,{onClick:()=>{i(!1)},variant:"secondary",size:"lg",children:[(0,t.jsx)(R.Z,{className:"w-4 h-4 mr-2"}),"Pause"]}):(0,t.jsxs)(h.z,{onClick:()=>{(e>0||a>0)&&i(!0)},size:"lg",disabled:0===e&&0===a,children:[(0,t.jsx)(C.Z,{className:"w-4 h-4 mr-2"}),"Start"]}),(0,t.jsxs)(h.z,{onClick:()=>{i(!1),s(c?5:25),r(0)},variant:"outline",size:"lg",children:[(0,t.jsx)(z.Z,{className:"w-4 h-4 mr-2"}),"Reset"]})]}),(0,t.jsxs)("div",{className:"flex justify-center space-x-4",children:[(0,t.jsx)(h.z,{onClick:()=>{s(25),r(0),i(!0),d(!1)},variant:"outline",children:"25 min Focus"}),(0,t.jsx)(h.z,{onClick:()=>{s(5),r(0),i(!0),d(!0)},variant:"outline",children:"5 min Break"}),(0,t.jsx)(h.z,{onClick:()=>{let e=prompt("Enter minutes:"),a=prompt("Enter seconds:");if(e&&a){let t=parseInt(e),l=parseInt(a);!isNaN(t)&&!isNaN(l)&&t>=0&&l>=0&&l<60&&(s(t),r(l),i(!1),d(!1))}},variant:"outline",children:"Custom Time"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(g._,{htmlFor:"minutes",children:"Minutes"}),(0,t.jsx)(u.I,{id:"minutes",type:"number",min:"0",max:"60",value:e,onChange:e=>s(parseInt(e.target.value)||0),disabled:l})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(g._,{htmlFor:"seconds",children:"Seconds"}),(0,t.jsx)(u.I,{id:"seconds",type:"number",min:"0",max:"59",value:a,onChange:e=>r(parseInt(e.target.value)||0),disabled:l})]})]})]})]}),(0,t.jsxs)(j,{children:[(0,t.jsx)(f,{children:(0,t.jsx)(p,{children:"Pomodoro Technique Tips"})}),(0,t.jsx)(b,{children:(0,t.jsxs)("ul",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-400",children:[(0,t.jsx)("li",{children:"• Work for 25 minutes straight"}),(0,t.jsx)("li",{children:"• Take a 5-minute break"}),(0,t.jsx)("li",{children:"• After 4 cycles, take a longer 15-30 minute break"}),(0,t.jsx)("li",{children:"• Use breaks to stretch, walk, or do light exercise"}),(0,t.jsx)("li",{children:"• Avoid checking social media during focus periods"})]})})]})]})}var A=a(6141),M=a(66654),_=a(8957),I=a(28203),D=a(76637),U=a(97542),F=a(7504);function B(){let[e,s]=(0,n.useState)([]),[a,r]=(0,n.useState)(!0),[l,i]=(0,n.useState)("");(0,n.useEffect)(()=>{c()},[]);let c=async()=>{try{let e=await fetch("/api/sessions");if(e.ok){let a=await e.json();s(a)}}catch(e){console.error("Error fetching sessions:",e)}finally{r(!1)}},d=e=>{let s=Math.floor(e/3600),a=Math.floor(e%3600/60),t=e%60;return s>0?"".concat(s,":").concat(a.toString().padStart(2,"0"),":").concat(t.toString().padStart(2,"0")):"".concat(a,":").concat(t.toString().padStart(2,"0"))},o=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),x=e.filter(e=>e.problemTitle.toLowerCase().includes(l.toLowerCase())||e.problemRating.toString().includes(l)),m=e.reduce((e,s)=>e+s.totalTime,0),g=e.length>0?Math.round(e.reduce((e,s)=>e+s.problemRating,0)/e.length):0,N=e.reduce((e,s)=>e+s.score,0);return a?(0,t.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsx)(j,{children:(0,t.jsx)(b,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(A.Z,{className:"h-8 w-8 text-blue-600"}),(0,t.jsxs)("div",{className:"ml-4",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Time"}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:d(m)})]})]})})}),(0,t.jsx)(j,{children:(0,t.jsx)(b,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(M.Z,{className:"h-8 w-8 text-green-600"}),(0,t.jsxs)("div",{className:"ml-4",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Avg Rating"}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:g})]})]})})}),(0,t.jsx)(j,{children:(0,t.jsx)(b,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(_.Z,{className:"h-8 w-8 text-yellow-600"}),(0,t.jsxs)("div",{className:"ml-4",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Score"}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:N.toLocaleString()})]})]})})}),(0,t.jsx)(j,{children:(0,t.jsx)(b,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(I.Z,{className:"h-8 w-8 text-purple-600"}),(0,t.jsxs)("div",{className:"ml-4",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Sessions"}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:e.length})]})]})})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsx)(j,{children:(0,t.jsx)(b,{className:"p-4",children:(0,t.jsx)(u.I,{placeholder:"Search sessions by problem title or rating...",value:l,onChange:e=>i(e.target.value)})})}),(0,t.jsx)(j,{children:(0,t.jsx)(b,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(h.z,{onClick:()=>{let e=x.map(e=>{var s;return{Date:o(e.createdAt),"Problem Title":e.problemTitle,Rating:e.problemRating,"Problem URL":e.problemUrl||"","Total Time":d(e.totalTime),Score:e.score,"Streak Bonus":e.streakBonus,Laps:(null===(s=e.laps)||void 0===s?void 0:s.map(e=>"".concat(e.name,": ").concat(d(e.time))).join(" | "))||"",Comments:e.comments||""}}),s=Object.keys(e[0]),a=[s.join(","),...e.map(e=>s.map(s=>'"'.concat(e[s],'"')).join(","))].join("\n"),t=new Blob([a],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a"),l=URL.createObjectURL(t);r.setAttribute("href",l),r.setAttribute("download","tracksheet_".concat(new Date().toISOString().split("T")[0],".csv")),r.style.visibility="hidden",document.body.appendChild(r),r.click(),document.body.removeChild(r)},variant:"outline",className:"flex-1",disabled:0===x.length,children:[(0,t.jsx)(D.Z,{className:"h-4 w-4 mr-2"}),"Export CSV"]}),(0,t.jsxs)(h.z,{onClick:()=>{let e=x.map(e=>{var s;return{Date:o(e.createdAt),"Problem Title":e.problemTitle,Rating:e.problemRating,"Problem URL":e.problemUrl||"","Total Time":d(e.totalTime),Score:e.score,"Streak Bonus":e.streakBonus,Laps:(null===(s=e.laps)||void 0===s?void 0:s.map(e=>"".concat(e.name,": ").concat(d(e.time))).join(" | "))||"",Comments:e.comments||""}}),s=F.P6.json_to_sheet(e),a=F.P6.book_new();F.P6.book_append_sheet(a,s,"Tracksheet"),F.NC(a,"tracksheet_".concat(new Date().toISOString().split("T")[0],".xlsx"))},variant:"outline",className:"flex-1",disabled:0===x.length,children:[(0,t.jsx)(U.Z,{className:"h-4 w-4 mr-2"}),"Export Excel"]})]})})})]}),(0,t.jsx)("div",{className:"space-y-4",children:0===x.length?(0,t.jsx)(j,{children:(0,t.jsx)(b,{className:"p-8 text-center",children:(0,t.jsx)("p",{className:"text-gray-500",children:"No sessions found. Start solving problems to see your tracksheet!"})})}):x.map(e=>(0,t.jsxs)(j,{children:[(0,t.jsx)(f,{children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(p,{className:"text-lg",children:e.problemTitle}),(0,t.jsxs)(v,{children:["Rating: ",e.problemRating," • Score: ",e.score.toLocaleString(),e.streakBonus>0&&(0,t.jsxs)(k,{variant:"secondary",className:"ml-2",children:["+",e.streakBonus," streak bonus"]})]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:o(e.createdAt)}),(0,t.jsx)("p",{className:"text-lg font-mono font-bold",children:d(e.totalTime)})]})]})}),(0,t.jsxs)(b,{children:[e.problemUrl&&(0,t.jsx)("p",{className:"mb-4",children:(0,t.jsx)("a",{href:e.problemUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"View Problem →"})}),e.laps&&e.laps.length>0&&(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("h4",{className:"font-semibold mb-2",children:"Time Breakdown:"}),(0,t.jsx)("div",{className:"space-y-1",children:e.laps.map((e,s)=>(0,t.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,t.jsx)("span",{children:e.name}),(0,t.jsx)("span",{className:"font-mono",children:d(e.time)})]},s))})]}),e.comments&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-semibold mb-2",children:"Comments:"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 bg-gray-50 dark:bg-gray-800 p-3 rounded",children:e.comments})]})]})]},e._id))})]})}var O=a(41738);let V=n.forwardRef((e,s)=>{let{className:a,value:r,...l}=e;return(0,t.jsx)(O.fC,{ref:s,className:(0,c.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",a),...l,children:(0,t.jsx)(O.z$,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(r||0),"%)")}})})});V.displayName=O.fC.displayName;var K=a(85790),W=a(52369),Y=a(22505);let G={Beginner:0,Intermediate:500,Advanced:1e3,Expert:2500,Master:5e3,Legend:1e4},q={Beginner:"bg-blue-500",Intermediate:"bg-green-500",Advanced:"bg-yellow-500",Expert:"bg-orange-500",Master:"bg-red-500",Legend:"bg-purple-500"};function H(){var e,s,a,l,i,c,d,o;let{data:x}=(0,r.useSession)(),[m,h]=(0,n.useState)(null),[u,g]=(0,n.useState)(!0);(0,n.useEffect)(()=>{N()},[]);let N=async()=>{try{let e=await fetch("/api/user/stats");if(e.ok){let s=await e.json();h(s)}}catch(e){console.error("Error fetching user stats:",e)}finally{g(!1)}};if(u)return(0,t.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})});if(!m)return(0,t.jsx)("div",{className:"text-center py-8",children:(0,t.jsx)("p",{className:"text-gray-500",children:"Unable to load profile data"})});let y=((e,s)=>{let a=Object.keys(G),t=a.indexOf(e);if(t<a.length-1){let r=a[t+1],l=G[r],n=(s-G[e])/(l-G[e])*100;return{league:r,threshold:l,progress:Math.min(n,100)}}return null})(m.user.league,m.user.totalScore);return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)(j,{children:(0,t.jsx)(f,{children:(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-2xl font-bold text-white",children:(null==x?void 0:null===(a=x.user)||void 0===a?void 0:null===(s=a.name)||void 0===s?void 0:null===(e=s.charAt(0))||void 0===e?void 0:e.toUpperCase())||(null==x?void 0:null===(c=x.user)||void 0===c?void 0:null===(i=c.email)||void 0===i?void 0:null===(l=i.charAt(0))||void 0===l?void 0:l.toUpperCase())})}),(0,t.jsxs)("div",{children:[(0,t.jsx)(p,{className:"text-2xl",children:(null==x?void 0:null===(d=x.user)||void 0===d?void 0:d.name)||"User"}),(0,t.jsx)(v,{children:null==x?void 0:null===(o=x.user)||void 0===o?void 0:o.email}),(0,t.jsxs)("div",{className:"flex items-center space-x-2 mt-2",children:[(0,t.jsx)(k,{className:"".concat(q[m.user.league]||"bg-gray-500"," text-white"),children:m.user.league.charAt(0).toUpperCase()+m.user.league.slice(1)}),(0,t.jsxs)("span",{className:"text-sm text-gray-500",children:["Rank #",m.user.rank]})]})]})]})})}),y&&(0,t.jsxs)(j,{children:[(0,t.jsxs)(f,{children:[(0,t.jsxs)(p,{className:"flex items-center",children:[(0,t.jsx)(K.Z,{className:"w-5 h-5 mr-2"}),"League Progress"]}),(0,t.jsxs)(v,{children:["Progress to ",y.league.charAt(0).toUpperCase()+y.league.slice(1)," League"]})]}),(0,t.jsx)(b,{children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{children:m.user.league.charAt(0).toUpperCase()+m.user.league.slice(1)}),(0,t.jsx)("span",{children:y.league.charAt(0).toUpperCase()+y.league.slice(1)})]}),(0,t.jsx)(V,{value:y.progress,className:"h-3"}),(0,t.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[m.user.totalScore.toLocaleString()," / ",y.threshold.toLocaleString()," points"]})]})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,t.jsx)(j,{children:(0,t.jsx)(b,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(_.Z,{className:"h-8 w-8 text-yellow-600"}),(0,t.jsxs)("div",{className:"ml-4",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Score"}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:m.user.totalScore.toLocaleString()})]})]})})}),(0,t.jsx)(j,{children:(0,t.jsx)(b,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(W.Z,{className:"h-8 w-8 text-orange-600"}),(0,t.jsxs)("div",{className:"ml-4",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Current Streak"}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:m.user.currentStreak}),(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:["Max: ",m.user.maxStreak]})]})]})})}),(0,t.jsx)(j,{children:(0,t.jsx)(b,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(M.Z,{className:"h-8 w-8 text-blue-600"}),(0,t.jsxs)("div",{className:"ml-4",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Avg Rating"}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:Math.round(m.additionalStats.averageRating)})]})]})})}),(0,t.jsx)(j,{children:(0,t.jsx)(b,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(I.Z,{className:"h-8 w-8 text-green-600"}),(0,t.jsxs)("div",{className:"ml-4",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Time"}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:(e=>{let s=Math.floor(e/3600),a=Math.floor(e%3600/60);return s>0?"".concat(s,"h ").concat(a,"m"):"".concat(a,"m")})(m.additionalStats.totalTime)}),(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:[m.user.totalSessions," sessions"]})]})]})})})]}),(0,t.jsxs)(j,{children:[(0,t.jsx)(f,{children:(0,t.jsxs)(p,{className:"flex items-center",children:[(0,t.jsx)(Y.Z,{className:"w-5 h-5 mr-2"}),"Achievements"]})}),(0,t.jsx)(b,{children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[m.user.totalSessions>=1&&(0,t.jsxs)("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center",children:(0,t.jsx)(M.Z,{className:"w-5 h-5 text-blue-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"First Problem"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Solved your first problem"})]})]}),m.user.currentStreak>=7&&(0,t.jsxs)("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-orange-100 dark:bg-orange-900 rounded-full flex items-center justify-center",children:(0,t.jsx)(W.Z,{className:"w-5 h-5 text-orange-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"Week Warrior"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"7-day solving streak"})]})]}),m.user.totalScore>=1e3&&(0,t.jsxs)("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-yellow-100 dark:bg-yellow-900 rounded-full flex items-center justify-center",children:(0,t.jsx)(_.Z,{className:"w-5 h-5 text-yellow-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"Score Master"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Reached 1000+ points"})]})]}),m.additionalStats.averageRating>=1500&&(0,t.jsxs)("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-purple-100 dark:bg-purple-900 rounded-full flex items-center justify-center",children:(0,t.jsx)(Y.Z,{className:"w-5 h-5 text-purple-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"Rating Expert"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Average rating 1500+"})]})]})]})})]})]})}var $=a(29455),J=a(83523),X=a(9224),Q=a(62442);let ee=$.fC;$.ZA;let es=$.B4,ea=n.forwardRef((e,s)=>{let{className:a,children:r,...l}=e;return(0,t.jsxs)($.xz,{ref:s,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...l,children:[r,(0,t.jsx)($.JO,{asChild:!0,children:(0,t.jsx)(J.Z,{className:"h-4 w-4 opacity-50"})})]})});ea.displayName=$.xz.displayName;let et=n.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)($.u_,{ref:s,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",a),...r,children:(0,t.jsx)(X.Z,{className:"h-4 w-4"})})});et.displayName=$.u_.displayName;let er=n.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)($.$G,{ref:s,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",a),...r,children:(0,t.jsx)(J.Z,{className:"h-4 w-4"})})});er.displayName=$.$G.displayName;let el=n.forwardRef((e,s)=>{let{className:a,children:r,position:l="popper",...n}=e;return(0,t.jsx)($.h_,{children:(0,t.jsxs)($.VY,{ref:s,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:l,...n,children:[(0,t.jsx)(et,{}),(0,t.jsx)($.l_,{className:(0,c.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,t.jsx)(er,{})]})})});el.displayName=$.VY.displayName;let en=n.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)($.__,{ref:s,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...r})});en.displayName=$.__.displayName;let ei=n.forwardRef((e,s)=>{let{className:a,children:r,...l}=e;return(0,t.jsxs)($.ck,{ref:s,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...l,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)($.wU,{children:(0,t.jsx)(Q.Z,{className:"h-4 w-4"})})}),(0,t.jsx)($.eT,{children:r})]})});ei.displayName=$.ck.displayName;let ec=n.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)($.Z0,{ref:s,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",a),...r})});ec.displayName=$.Z0.displayName;var ed=a(45253),eo=a(41125),ex=a(16573),em=a(24235),eh=a(50039),eu=a(86812),eg=a(87586),ej=a(38227),ef=a(79857),ep=a(19223);function ev(){let[e,s]=(0,n.useState)([]),[a,r]=(0,n.useState)(!0),[l,i]=(0,n.useState)("30");(0,n.useEffect)(()=>{c()},[l]);let c=async()=>{try{let e=await fetch("/api/sessions/graph?days=".concat(l));if(e.ok){let a=await e.json();s(a)}}catch(e){console.error("Error fetching graph data:",e)}finally{r(!1)}},d=e.map(e=>({rating:e.rating,score:e.score,date:e.date})),o=e.map(e=>({rating:e.rating,time:e.time/60,date:e.date})),x=e.reduce((e,s)=>{let a=e.find(e=>e.date===s.date);return a?(a.score+=s.score,a.sessions+=1):e.push({date:s.date,score:s.score,sessions:1}),e},[]);return a?(0,t.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)(j,{children:(0,t.jsx)(b,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:"Time Range:"}),(0,t.jsxs)(ee,{value:l,onValueChange:i,children:[(0,t.jsx)(ea,{className:"w-32",children:(0,t.jsx)(es,{})}),(0,t.jsxs)(el,{children:[(0,t.jsx)(ei,{value:"7",children:"Last 7 days"}),(0,t.jsx)(ei,{value:"30",children:"Last 30 days"}),(0,t.jsx)(ei,{value:"90",children:"Last 90 days"}),(0,t.jsx)(ei,{value:"365",children:"Last year"})]})]}),(0,t.jsx)(h.z,{onClick:c,variant:"outline",children:"Refresh"})]})})}),(0,t.jsxs)(j,{children:[(0,t.jsxs)(f,{children:[(0,t.jsx)(p,{children:"Score vs Problem Rating"}),(0,t.jsx)(v,{children:"How your scores correlate with problem difficulty"})]}),(0,t.jsx)(b,{children:(0,t.jsx)("div",{className:"h-80",children:(0,t.jsx)(ed.h,{width:"100%",height:"100%",children:(0,t.jsxs)(eo.G,{data:d,children:[(0,t.jsx)(ex.q,{strokeDasharray:"3 3"}),(0,t.jsx)(em.K,{type:"number",dataKey:"rating",name:"Problem Rating",domain:["dataMin - 100","dataMax + 100"]}),(0,t.jsx)(eh.B,{type:"number",dataKey:"score",name:"Score",domain:["dataMin - 50","dataMax + 50"]}),(0,t.jsx)(eu.u,{formatter:(e,s)=>["rating"===s?e:e.toLocaleString(),"rating"===s?"Problem Rating":"Score"]}),(0,t.jsx)(eg.b,{name:"Sessions",data:d,fill:"#3b82f6"})]})})})})]}),(0,t.jsxs)(j,{children:[(0,t.jsxs)(f,{children:[(0,t.jsx)(p,{children:"Time vs Problem Rating"}),(0,t.jsx)(v,{children:"How much time you spend on problems of different difficulties"})]}),(0,t.jsx)(b,{children:(0,t.jsx)("div",{className:"h-80",children:(0,t.jsx)(ed.h,{width:"100%",height:"100%",children:(0,t.jsxs)(eo.G,{data:o,children:[(0,t.jsx)(ex.q,{strokeDasharray:"3 3"}),(0,t.jsx)(em.K,{type:"number",dataKey:"rating",name:"Problem Rating",domain:["dataMin - 100","dataMax + 100"]}),(0,t.jsx)(eh.B,{type:"number",dataKey:"time",name:"Time (minutes)",domain:["dataMin - 5","dataMax + 5"]}),(0,t.jsx)(eu.u,{formatter:(e,s)=>["rating"===s?e:"".concat(e," min"),"rating"===s?"Problem Rating":"Time Spent"]}),(0,t.jsx)(eg.b,{name:"Sessions",data:o,fill:"#10b981"})]})})})})]}),(0,t.jsxs)(j,{children:[(0,t.jsxs)(f,{children:[(0,t.jsx)(p,{children:"Daily Progress"}),(0,t.jsx)(v,{children:"Your daily score accumulation over time"})]}),(0,t.jsx)(b,{children:(0,t.jsx)("div",{className:"h-80",children:(0,t.jsx)(ed.h,{width:"100%",height:"100%",children:(0,t.jsxs)(ej.w,{data:x,children:[(0,t.jsx)(ex.q,{strokeDasharray:"3 3"}),(0,t.jsx)(em.K,{dataKey:"date",tickFormatter:e=>new Date(e).toLocaleDateString()}),(0,t.jsx)(eh.B,{}),(0,t.jsx)(eu.u,{labelFormatter:e=>new Date(e).toLocaleDateString(),formatter:(e,s)=>["score"===s?e.toLocaleString():e,"score"===s?"Total Score":"Sessions"]}),(0,t.jsx)(ef.D,{}),(0,t.jsx)(ep.x,{type:"monotone",dataKey:"score",stroke:"#3b82f6",strokeWidth:2,name:"Total Score"}),(0,t.jsx)(ep.x,{type:"monotone",dataKey:"sessions",stroke:"#f59e0b",strokeWidth:2,name:"Sessions"})]})})})})]}),(0,t.jsxs)(j,{children:[(0,t.jsx)(f,{children:(0,t.jsx)(p,{children:"Performance Insights"})}),(0,t.jsx)(b,{children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-semibold mb-2",children:"Score Efficiency"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.length>0?"Average score per session: ".concat(Math.round(e.reduce((e,s)=>e+s.score,0)/e.length).toLocaleString()):"No data available"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-semibold mb-2",children:"Time Management"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.length>0?"Average time per session: ".concat(Math.round(e.reduce((e,s)=>e+s.time,0)/e.length/60)," minutes"):"No data available"})]})]})})]})]})}var eb=a(49168),eN=a(49163);function ey(){let[e,s]=(0,n.useState)([]),[a,r]=(0,n.useState)(!0),[l,i]=(0,n.useState)("totalScore"),[c,d]=(0,n.useState)("all");(0,n.useEffect)(()=>{o()},[l,c]);let o=async()=>{try{let e=await fetch("/api/leaderboard?sort=".concat(l,"&timeRange=").concat(c));if(e.ok){let a=await e.json();s(a)}}catch(e){console.error("Error fetching leaderboard:",e)}finally{r(!1)}},x=e=>{switch(e){case 1:return(0,t.jsx)(eb.Z,{className:"h-5 w-5 text-yellow-500"});case 2:return(0,t.jsx)(_.Z,{className:"h-5 w-5 text-gray-400"});case 3:return(0,t.jsx)(eN.Z,{className:"h-5 w-5 text-amber-600"});default:return(0,t.jsx)(Y.Z,{className:"h-5 w-5 text-blue-500"})}},m=e=>{switch(e.toLowerCase()){case"legend":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200";case"master":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"expert":return"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200";case"advanced":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"intermediate":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"beginner":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}};return a?(0,t.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)(j,{children:(0,t.jsx)(b,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:"Sort by:"}),(0,t.jsxs)(ee,{value:l,onValueChange:i,children:[(0,t.jsx)(ea,{className:"w-40",children:(0,t.jsx)(es,{})}),(0,t.jsxs)(el,{children:[(0,t.jsx)(ei,{value:"totalScore",children:"Total Score"}),(0,t.jsx)(ei,{value:"currentStreak",children:"Current Streak"}),(0,t.jsx)(ei,{value:"maxStreak",children:"Max Streak"}),(0,t.jsx)(ei,{value:"averageScore",children:"Average Score"}),(0,t.jsx)(ei,{value:"totalSessions",children:"Total Sessions"})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:"Time Range:"}),(0,t.jsxs)(ee,{value:c,onValueChange:d,children:[(0,t.jsx)(ea,{className:"w-32",children:(0,t.jsx)(es,{})}),(0,t.jsxs)(el,{children:[(0,t.jsx)(ei,{value:"all",children:"All Time"}),(0,t.jsx)(ei,{value:"month",children:"This Month"}),(0,t.jsx)(ei,{value:"week",children:"This Week"})]})]})]}),(0,t.jsx)(h.z,{onClick:o,variant:"outline",children:"Refresh"})]})})}),(0,t.jsxs)(j,{children:[(0,t.jsxs)(f,{children:[(0,t.jsx)(p,{children:"Global Leaderboard"}),(0,t.jsxs)(v,{children:["Top competitive programmers ranked by ",l.replace(/([A-Z])/g," $1").toLowerCase()]})]}),(0,t.jsx)(b,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[e.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-lg border ".concat(s<3?"bg-gradient-to-r from-yellow-50 to-transparent dark:from-yellow-950":"bg-gray-50 dark:bg-gray-900"),children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsxs)("span",{className:"text-lg font-bold text-gray-500",children:["#",s+1]}),x(s+1)]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold",children:e.name}),(0,t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.email})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)(k,{className:m(e.league),children:e.league}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["totalScore"===l&&"Score: ".concat(e.totalScore.toLocaleString()),"currentStreak"===l&&"Current Streak: ".concat(e.currentStreak),"maxStreak"===l&&"Max Streak: ".concat(e.maxStreak),"averageScore"===l&&"Avg Score: ".concat(Math.round(e.averageScore).toLocaleString()),"totalSessions"===l&&"Sessions: ".concat(e.totalSessions)]}),(0,t.jsxs)("div",{className:"text-xs text-gray-500",children:["Rank: ",e.rank," • ",e.totalSessions," sessions"]})]})]})]},e._id)),0===e.length&&(0,t.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No leaderboard data available"})]})})]}),(0,t.jsxs)(j,{children:[(0,t.jsx)(f,{children:(0,t.jsx)(p,{children:"Your Ranking"})}),(0,t.jsx)(b,{children:(0,t.jsx)("div",{className:"text-center",children:(0,t.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Your current ranking will be displayed here once you have completed sessions."})})})]})]})}var ew=a(92455);function ek(){let[e,s]=(0,n.useState)(""),[a,r]=(0,n.useState)(null),[l,i]=(0,n.useState)(null),[c,d]=(0,n.useState)(!1),[o,x]=(0,n.useState)(""),m=async()=>{if(!e.trim()){x("Please enter a Codeforces handle");return}d(!0),x(""),r(null),i(null);try{let s=await fetch("/api/codeforces?handle=".concat(encodeURIComponent(e.trim()))),a=await s.json();if(!s.ok)throw Error(a.error||"Failed to fetch data");r(a.user),i(a.stats)}catch(e){x(e.message||"Failed to fetch Codeforces data")}finally{d(!1)}},g=e=>e?new Date(1e3*e).toLocaleDateString():"N/A";return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(j,{children:[(0,t.jsxs)(f,{children:[(0,t.jsxs)(p,{className:"flex items-center gap-2",children:[(0,t.jsx)(ew.Z,{className:"h-5 w-5"}),"Codeforces Integration"]}),(0,t.jsx)(v,{children:"Fetch user information and statistics from Codeforces"})]}),(0,t.jsxs)(b,{children:[(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)(u.I,{placeholder:"Enter Codeforces handle (e.g., tourist)",value:e,onChange:e=>s(e.target.value),onKeyPress:e=>"Enter"===e.key&&m()}),(0,t.jsx)(h.z,{onClick:m,disabled:c,children:c?"Fetching...":"Fetch Data"})]}),o&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-2",children:o})]})]}),a&&(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)(j,{children:[(0,t.jsx)(f,{children:(0,t.jsxs)(p,{className:"flex items-center gap-2",children:[(0,t.jsx)(_.Z,{className:"h-5 w-5"}),"User Profile"]})}),(0,t.jsxs)(b,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[a.avatar&&(0,t.jsx)("img",{src:a.avatar,alt:a.handle,className:"w-16 h-16 rounded-full"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-bold",children:a.handle}),a.rank&&(0,t.jsx)(k,{className:"".concat((e=>{if(!e)return"bg-gray-500";let s=e.toLowerCase();return s.includes("legendary")?"bg-red-500":s.includes("grandmaster")?"bg-red-600":s.includes("international")?"bg-orange-500":s.includes("master")?"bg-yellow-500":s.includes("candidate")?"bg-purple-500":s.includes("specialist")?"bg-cyan-500":s.includes("pupil")?"bg-green-500":(s.includes("newbie"),"bg-gray-500")})(a.rank)," text-white"),children:a.rank})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Current Rating"}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:a.rating||"Unrated"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Max Rating"}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:a.maxRating||"N/A"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Max Rank"}),(0,t.jsx)("p",{className:"font-medium",children:a.maxRank||"N/A"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Contribution"}),(0,t.jsx)("p",{className:"font-medium",children:a.contribution||0})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Registered"}),(0,t.jsx)("p",{className:"font-medium",children:g(a.registrationTimeSeconds)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Last Online"}),(0,t.jsx)("p",{className:"font-medium",children:g(a.lastOnlineTimeSeconds)})]})]})]})]}),l&&(0,t.jsxs)(j,{children:[(0,t.jsx)(f,{children:(0,t.jsxs)(p,{className:"flex items-center gap-2",children:[(0,t.jsx)(K.Z,{className:"h-5 w-5"}),"Submission Statistics"]})}),(0,t.jsxs)(b,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Problems Solved"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-green-600",children:l.solvedProblems})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Submissions"}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:l.totalSubmissions})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Accepted"}),(0,t.jsx)("p",{className:"text-lg font-medium text-green-600",children:l.acceptedSubmissions})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Wrong Answer"}),(0,t.jsx)("p",{className:"text-lg font-medium text-red-600",children:l.wrongAnswer})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"TLE"}),(0,t.jsx)("p",{className:"text-lg font-medium text-orange-600",children:l.timeLimitExceeded})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"MLE"}),(0,t.jsx)("p",{className:"text-lg font-medium text-purple-600",children:l.memoryLimitExceeded})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Runtime Error"}),(0,t.jsx)("p",{className:"text-lg font-medium text-yellow-600",children:l.runtimeError})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Compilation Error"}),(0,t.jsx)("p",{className:"text-lg font-medium text-gray-600",children:l.compilationError})]})]})]})]})]}),!a&&!c&&(0,t.jsxs)(j,{children:[(0,t.jsx)(f,{children:(0,t.jsx)(p,{children:"How to Use"})}),(0,t.jsx)(b,{children:(0,t.jsxs)("div",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-400",children:[(0,t.jsx)("p",{children:"1. Enter your Codeforces handle in the input field above"}),(0,t.jsx)("p",{children:'2. Click "Fetch Data" to retrieve your profile and submission statistics'}),(0,t.jsx)("p",{children:"3. View your rating, rank, solved problems, and submission breakdown"}),(0,t.jsx)("p",{children:"4. Data is fetched directly from the Codeforces API"})]})})]})]})}function eS(){var e,s;let{data:a}=(0,r.useSession)(),i=(0,l.useRouter)(),[c,u]=(0,n.useState)("stopwatch");return((0,n.useEffect)(()=>{a||i.push("/login")},[a,i]),a)?(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,t.jsx)("nav",{className:"bg-white dark:bg-gray-800 shadow-sm border-b",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"flex justify-between h-16",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("img",{src:"/logo.svg",alt:"RankTime Logo",className:"h-8 w-8"}),(0,t.jsx)("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"RankTime"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Welcome, ",(null===(e=a.user)||void 0===e?void 0:e.name)||(null===(s=a.user)||void 0===s?void 0:s.email)]}),(0,t.jsx)(h.z,{onClick:()=>(0,r.signOut)(),variant:"outline",size:"sm",children:"Sign out"})]})]})})}),(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Dashboard"}),(0,t.jsx)("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Track your competitive programming progress and performance"})]}),(0,t.jsxs)(d,{value:c,onValueChange:u,className:"space-y-6",children:[(0,t.jsxs)(o,{className:"grid w-full grid-cols-7",children:[(0,t.jsx)(x,{value:"stopwatch",children:"Stopwatch"}),(0,t.jsx)(x,{value:"timer",children:"Timer"}),(0,t.jsx)(x,{value:"tracksheet",children:"Tracksheet"}),(0,t.jsx)(x,{value:"profile",children:"Profile"}),(0,t.jsx)(x,{value:"graphs",children:"Graphs"}),(0,t.jsx)(x,{value:"leaderboard",children:"Leaderboard"}),(0,t.jsx)(x,{value:"codeforces",children:"Codeforces"})]}),(0,t.jsx)(m,{value:"stopwatch",children:(0,t.jsx)(Z,{})}),(0,t.jsx)(m,{value:"timer",children:(0,t.jsx)(P,{})}),(0,t.jsx)(m,{value:"tracksheet",children:(0,t.jsx)(B,{})}),(0,t.jsx)(m,{value:"profile",children:(0,t.jsx)(H,{})}),(0,t.jsx)(m,{value:"graphs",children:(0,t.jsx)(ev,{})}),(0,t.jsx)(m,{value:"leaderboard",children:(0,t.jsx)(ey,{})}),(0,t.jsx)(m,{value:"codeforces",children:(0,t.jsx)(ek,{})})]})]})]}):(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})})}},3089:function(e,s,a){"use strict";a.d(s,{z:function(){return d}});var t=a(57437),r=a(2265),l=a(67256),n=a(96061),i=a(60345);let c=(0,n.j)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef((e,s)=>{let{className:a,variant:r,size:n,asChild:d=!1,...o}=e,x=d?l.g7:"button";return(0,t.jsx)(x,{className:(0,i.cn)(c({variant:r,size:n,className:a})),ref:s,...o})});d.displayName="Button"},86582:function(e,s,a){"use strict";a.d(s,{I:function(){return n}});var t=a(57437),r=a(2265),l=a(60345);let n=r.forwardRef((e,s)=>{let{className:a,type:r,...n}=e;return(0,t.jsx)("input",{type:r,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:s,...n})});n.displayName="Input"},6429:function(e,s,a){"use strict";a.d(s,{_:function(){return d}});var t=a(57437),r=a(2265),l=a(36743),n=a(96061),i=a(60345);let c=(0,n.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(l.f,{ref:s,className:(0,i.cn)(c(),a),...r})});d.displayName=l.f.displayName},60345:function(e,s,a){"use strict";a.d(s,{cn:function(){return l}});var t=a(57042),r=a(74769);function l(){for(var e=arguments.length,s=Array(e),a=0;a<e;a++)s[a]=arguments[a];return(0,r.m6)((0,t.W)(s))}}},function(e){e.O(0,[425,621,749,550,971,472,744],function(){return e(e.s=30986)}),_N_E=e.O()}]);